{"ast":null,"code":"import _toConsumableArray from\"/Users/xpj/Desktop/React/demo01/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/xpj/Desktop/React/demo01/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/xpj/Desktop/React/demo01/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/xpj/Desktop/React/demo01/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/xpj/Desktop/React/demo01/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/xpj/Desktop/React/demo01/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component,Fragment}from'react';import'./style.css';import Xioajiejieitem from'./Xiaojiejieitem';import axios from'axios';var Xiaojiejie=/*#__PURE__*/function(_Component){_inherits(Xiaojiejie,_Component);//数据初始化\nfunction Xiaojiejie(props){var _this;_classCallCheck(this,Xiaojiejie);_this=_possibleConstructorReturn(this,_getPrototypeOf(Xiaojiejie).call(this,props));_this.state={inputValue:'',list:['基础按摩','精油推背']};return _this;}//最先执行\n_createClass(Xiaojiejie,[{key:\"componentWillMount\",value:function componentWillMount(){console.log(\"componentWillMount\");}//在render之后执行\n},{key:\"componentDidMount\",value:function componentDidMount(){console.log(\"componentDidMount\");axios.post('https://web-api.juejin.im/v3/web/wbbr/bgeda').then(function(res){console.log('axios 获取数据成功:'+JSON.stringify(res));}).catch(function(error){console.log('axios 获取数据失败'+error);});}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(){console.log('componentWillReceiveProps');}//更新第一个执行\n},{key:\"shouldComponentUpdate\",value:function shouldComponentUpdate(){console.log(\"shouldComponentUpdate\");return true;}//更新第二个执行\n},{key:\"componentWillUpdate\",value:function componentWillUpdate(){console.log('componentWillUpdate');return true;}//在render之后执行\n},{key:\"componentDidUpdate\",value:function componentDidUpdate(){console.log('componentDidUpdate');return true;}//在componentWillMount之后执行，或者刷新prop和state时执行\n},{key:\"render\",value:function render(){var _this2=this;console.log(\"render\");return React.createElement(Fragment,null,React.createElement(\"div\",null,React.createElement(\"label\",{htmlFor:\"jspang\"},\"\\u589E\\u52A0\\u670D\\u52A1\\uFF1A\"),React.createElement(\"input\",{id:\"jspang\",className:\"input\",value:this.state.inputValue,onChange:this.inputChange.bind(this),ref:function ref(input){_this2.input=input;}}),React.createElement(\"button\",{onClick:this.addList.bind(this)},\"\\u589E\\u52A0\\u670D\\u52A1\")),React.createElement(\"ul\",{ref:function ref(ul){_this2.ul=ul;}},this.state.list.map(function(item,index){return React.createElement(Xioajiejieitem,{key:index+item,index:index,content:item,deleteItem:_this2.deleteItem.bind(_this2),list:_this2.state.list});})));}},{key:\"inputChange\",value:function inputChange(e){// console.log(e.target.value)\nthis.setState({inputValue:this.input.value});}//增加列表\n},{key:\"addList\",value:function addList(){var _this3=this;this.setState({list:[].concat(_toConsumableArray(this.state.list),[this.state.inputValue]),inputValue:''},function(){console.log(_this3.ul.querySelectorAll('li').length);});}//删除列表项\n},{key:\"deleteItem\",value:function deleteItem(index){// console.log(index)\nvar list=this.state.list;list.splice(index,1);this.setState({list:list});}}]);return Xiaojiejie;}(Component);export default Xiaojiejie;","map":{"version":3,"sources":["/Users/xpj/Desktop/React/demo01/src/Xiaojiejie.js"],"names":["React","Component","Fragment","Xioajiejieitem","axios","Xiaojiejie","props","state","inputValue","list","console","log","post","then","res","JSON","stringify","catch","error","inputChange","bind","input","addList","ul","map","item","index","deleteItem","e","setState","value","querySelectorAll","length","splice"],"mappings":"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","sourcesContent":["import React,{Component,Fragment} from 'react'\nimport './style.css'\nimport Xioajiejieitem from './Xiaojiejieitem'\nimport axios from 'axios'\n\nclass Xiaojiejie extends Component{\n    //数据初始化\n    constructor(props){\n        super(props)\n        this.state={\n            inputValue:'',\n            list:['基础按摩','精油推背']\n        }\n    }\n\n    //最先执行\n    componentWillMount(){\n        console.log(\"componentWillMount\")\n    }\n\n    //在render之后执行\n    componentDidMount() {\n        console.log(\"componentDidMount\")\n        axios.post('https://web-api.juejin.im/v3/web/wbbr/bgeda')\n            .then((res)=>{\n                console.log('axios 获取数据成功:'+JSON.stringify(res))\n            })\n            .catch((error)=>{\n                console.log('axios 获取数据失败'+error)\n            })\n    }\n\n    componentWillReceiveProps(){\n        console.log('componentWillReceiveProps')\n    }\n\n    //更新第一个执行\n    shouldComponentUpdate(){\n        console.log(\"shouldComponentUpdate\")\n        return true\n    }\n\n    //更新第二个执行\n    componentWillUpdate(){\n        console.log('componentWillUpdate')\n        return true\n    }\n\n    //在render之后执行\n    componentDidUpdate(){\n        console.log('componentDidUpdate')\n        return true\n    }\n\n\n    //在componentWillMount之后执行，或者刷新prop和state时执行\n    render(){\n        console.log(\"render\")\n        return  (\n            <Fragment>\n                {/* 第一次写注释 */}\n                <div>\n                    <label htmlFor=\"jspang\">增加服务：</label>\n                    <input \n                        id=\"jspang\" \n                        className='input' \n                        value={this.state.inputValue} \n                        onChange={this.inputChange.bind(this)} \n                        ref={(input)=>{this.input=input}} />\n                    <button onClick={this.addList.bind(this)}>增加服务</button>\n                </div>\n                <ul ref={(ul)=>{this.ul=ul}}>\n                    {\n                        this.state.list.map((item,index)=>{\n                            return (\n                                    <Xioajiejieitem\n                                        key={index+item} \n                                        index={index} \n                                        content={item} \n                                        deleteItem={this.deleteItem.bind(this)} \n                                        list={this.state.list} \n                                    />\n                            )\n                        })\n                    }\n                </ul>\n            </Fragment>\n        )\n    }\n\n    inputChange(e) {\n        // console.log(e.target.value)\n        this.setState({\n            inputValue:this.input.value\n        })\n    }\n\n    //增加列表\n    addList(){\n        this.setState({\n            list:[...this.state.list,this.state.inputValue],\n            inputValue:''\n        },()=>{\n            console.log(this.ul.querySelectorAll('li').length)\n        })\n    }\n\n    //删除列表项\n    deleteItem(index){\n        // console.log(index)\n        let list = this.state.list\n        list.splice(index,1)\n        this.setState({\n            list:list\n        })\n    }\n}\nexport default Xiaojiejie "]},"metadata":{},"sourceType":"module"}